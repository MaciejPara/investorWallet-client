{"version":3,"sources":["views/logout/index.js"],"names":["Views","match","url","history","dispatch","useDispatch","user","useStore","getState","authUser","logout","a","type","LOADER","FetchClient","get","result","status","localStorage","setItem","LOGOUT_USER","payload","push","console","error","store","addNotification","title","message","insert","container","animationIn","animationOut","dismiss","duration","onScreen","useEffect","email"],"mappings":"8KA+DeA,UAzDD,SAAC,GAAgC,EAA9BC,MAASC,IAAsB,IAAfC,EAAc,EAAdA,QACvBC,EAAWC,cAGDC,EACZC,cAAWC,WADXC,SAAYH,KAGVI,EAAM,uCAAG,4BAAAC,EAAA,sEAEPP,EAAS,CAAEQ,KAAMC,WAFV,SAIcC,IAAYC,IAAI,CACjCb,IAAK,aALF,OAIDc,EAJC,OAQPZ,EAAS,CAAEQ,KAAMC,WACM,OAAb,OAANG,QAAM,IAANA,OAAA,EAAAA,EAAQC,SACRC,aAAaC,QAAQ,qBAAsB,IAE3Cf,EAAS,CACLQ,KAAMQ,cACNC,QAAS,CAAEf,KAAM,MAGrBH,EAAQmB,KAAK,OAEbC,QAAQC,MAAM,iBAAkBR,GAEhCS,QAAMC,gBAAgB,CAClBC,MAAO,UACPC,QAAS,gBACThB,KAAM,SACNiB,OAAQ,MACRC,UAAW,YACXC,YAAa,CAAC,WAAY,UAC1BC,aAAc,CAAC,WAAY,WAC3BC,QAAS,CACLC,SAAU,IACVC,UAAU,MA/Bf,gDAoCP/B,EAAS,CAAEQ,KAAMC,WACjBU,QAAQC,MAAR,MArCO,yDAAH,qDA+CZ,OANAY,qBAAU,YACN,OAAI9B,QAAJ,IAAIA,OAAJ,EAAIA,EAAM+B,QACN3B,MAEL,IAEI","file":"static/js/13.151a629d.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useStore } from \"react-redux\";\nimport { LOADER, LOGOUT_USER } from \"../../redux/actions\";\nimport FetchClient from \"../../utils/FetchClient\";\nimport { store } from \"react-notifications-component\";\n\nconst Views = ({ match: { url }, history }) => {\n    const dispatch = useDispatch();\n\n    const {\n        authUser: { user },\n    } = useStore().getState();\n\n    const logout = async () => {\n        try {\n            dispatch({ type: LOADER });\n\n            const result = await FetchClient.get({\n                url: \"/signout\",\n            });\n\n            dispatch({ type: LOADER });\n            if (result?.status === 200) {\n                localStorage.setItem(\"investorWalletUser\", \"\");\n\n                dispatch({\n                    type: LOGOUT_USER,\n                    payload: { user: \"\" },\n                });\n\n                history.push(\"/\");\n            } else {\n                console.error(\">>> logout :: \", result);\n\n                store.addNotification({\n                    title: \"Failure\",\n                    message: \"Logout failed\",\n                    type: \"danger\",\n                    insert: \"top\",\n                    container: \"top-right\",\n                    animationIn: [\"animated\", \"fadeIn\"],\n                    animationOut: [\"animated\", \"fadeOut\"],\n                    dismiss: {\n                        duration: 3000,\n                        onScreen: true,\n                    },\n                });\n            }\n        } catch (e) {\n            dispatch({ type: LOADER });\n            console.error(e);\n        }\n    };\n\n    useEffect(() => {\n        if (user?.email) {\n            logout();\n        }\n    }, []);\n\n    return <></>;\n};\n\nexport default Views;\n"],"sourceRoot":""}