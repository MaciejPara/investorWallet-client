(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[13],{119:function(e,t,a){"use strict";a.r(t);var c=a(5),s=a.n(c),n=a(9),r=a(17),l=a(70),i=a(2),o=a(26),u=a(13),d=a(78),b=a(76),j=a.n(b),m=a(83),h=a(114),p=a(8),f=["history","match"];m.d.register(m.c,m.i,m.k,m.h,m.o,m.p,m.f);t.default=function(e){var t=e.history,a=e.match,c=(a=void 0===a?{}:a).params,b=(c=void 0===c?{}:c).id,m=(Object(l.a)(e,f),Object(i.useState)([{value:7,label:"1 week"},{value:14,label:"2 weeks"},{value:30,label:"30 days"},{value:60,label:"60 days"},{value:90,label:"90 days"},{value:120,label:"120 days"},{value:365,label:"1 year"}])),O=Object(r.a)(m,1)[0],v=Object(i.useState)(30),x=Object(r.a)(v,2),N=x[0],g=x[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-N;return j()().add(e,"days").format("YYYY-MM-DD")},k=Object(o.e)().getState().authUser,D=(k=void 0===k?{}:k).user,y=(D=void 0===D?{}:D).id,S=Object(i.useState)(w()),Y=Object(r.a)(S,2),C=Y[0],M=Y[1],B=Object(i.useState)(w(0)),J=Object(r.a)(B,2),A=J[0],F=J[1],P=Object(i.useState)(),E=Object(r.a)(P,2),V=E[0],G=E[1],I=Object(i.useState)(-N),L=Object(r.a)(I,2),U=L[0],W=L[1],_=Object(i.useState)([]),q=Object(r.a)(_,2),z=q[0],H=q[1],K=Object(i.useState)(!1),Q=Object(r.a)(K,2),R=Q[0],T=Q[1],X=Object(i.useState)(),Z=Object(r.a)(X,2),$=Z[0],ee=Z[1];Object(i.useEffect)((function(){3===(null===b||void 0===b?void 0:b.length)?ee(b):Object(n.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get({url:"/investments?filter=".concat(JSON.stringify({userId:y}))});case 2:t=e.sent,(a=t.find((function(e){return e._id===b})))?(ee(a.what.toLowerCase()),G(a)):T(!0);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(i.useEffect)((function(){Object(n.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V&&!$){e.next=15;break}return e.prev=1,e.next=4,fetch("https://api.nbp.pl/api/exchangerates/rates/a/".concat($,"/").concat(C,"/").concat(A,"?format=JSON"));case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,H(a.rates.map((function(e){return{date:e.effectiveDate,price:e.mid}}))),T(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),T(!0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()}),[U,V,$,N]);var te={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"".concat((null===V||void 0===V?void 0:V.what)||$," price between ").concat(C," - ").concat(A)}}},ae={labels:z.map((function(e){return e.date})),datasets:[{label:"Price",data:z.map((function(e){return e.price})),borderColor:"#c0ff00",backgroundColor:"#c0ff00"}]};return Object(p.jsxs)("div",{className:"text-left detailsView",children:[Object(p.jsx)("button",{onClick:function(){return t.goBack()},children:"Go Back"}),R?Object(p.jsx)("div",{className:"text-center",children:Object(p.jsx)("h4",{children:"Sorry, details for this instrument cannot be seen.."})}):Object(p.jsxs)(p.Fragment,{children:[V&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"detailsData",children:[Object(p.jsxs)("p",{className:"detailsData-item",children:[Object(p.jsx)("span",{className:"label",children:"What you bought:"})," ",V.what]}),Object(p.jsxs)("p",{className:"detailsData-item",children:[Object(p.jsx)("span",{className:"label",children:"From what you bought:"})," ",V.from]}),Object(p.jsxs)("p",{className:"detailsData-item",children:[Object(p.jsx)("span",{className:"label",children:"Price you paid:"})," ",V.price]}),Object(p.jsxs)("p",{className:"detailsData-item",children:[Object(p.jsx)("span",{className:"label",children:"Amount you get:"})," ",V.count]}),Object(p.jsxs)("p",{className:"detailsData-item",children:[Object(p.jsx)("span",{className:"label",children:"Date of transaction:"})," ",j()(V.createdAt).format("YYYY-MM-DD hh:mm:ss")]}),Object(p.jsxs)("p",{className:"detailsData-item",children:[Object(p.jsx)("span",{className:"label",children:"Date of update:"})," ",j()(V.updatedAt).format("YYYY-MM-DD hh:mm:ss")]})]})}),($||V)&&Object(p.jsxs)("div",{className:"chartContainer mt-3",children:[Object(p.jsxs)("div",{className:"chartButtons text-right mb-5",children:[Object(p.jsx)(d.a,{className:"monthsSelect",menuPlacement:"top",defaultValue:O.find((function(e){return e.value===N})),options:O,handleChange:function(e){var t=e.value;W(-t),g(t),M(w(-t)),F(w(0))}}),Object(p.jsx)("button",{className:"formButton ml-4",onClick:function(){M(w(U-N)),F(w(U)),W(U-N)},children:"move backward"}),Object(p.jsx)("button",{disabled:U>=-N,className:"formButton",onClick:function(){var e=U+N;W(e),M(w(e)),F(w(e+N))},children:"move forward"})]}),Object(p.jsx)(h.a,{options:te,data:ae})]})]})]})}}}]);
//# sourceMappingURL=13.c6fa070f.chunk.js.map