(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[1],{14:function(t,e,n){"use strict";var r=n(5),a=n.n(r),c=n(3),i=n(11),o=n(12),s=n(13),u=n(33),l=n(31),d=n(17),f=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var r,a=t.apiUrl;return Object(o.a)(this,n),(r=e.call(this))._url=a,r._config={headers:{"content-type":"application/json","Access-Control-Allow-Origin":!0,"Access-Control-Allow-Credentials":!0},credentials:"include"},r}return Object(s.a)(n,[{key:"get",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,t.next=3,fetch("".concat(this._url).concat(n),Object(c.a)(Object(c.a)({},this._config),{},{method:"get"}));case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=e.body,t.next=3,fetch("".concat(this._url).concat(n),Object(c.a)(Object(c.a)({},this._config),{},{method:"post",body:JSON.stringify(r)}));case 3:if(401!==(null===(i=t.sent)||void 0===i?void 0:i.status)){t.next=6;break}return t.abrupt("return",this._showUnauthorized());case 6:if(500!==(null===i||void 0===i?void 0:i.status)){t.next=8;break}return t.abrupt("return",this._showInternalServerError());case 8:if(409!==(null===i||void 0===i?void 0:i.status)){t.next=10;break}return t.abrupt("return",this._showEmailAlreadyExists());case 10:return t.next=12,i.json();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=e.body,t.next=3,fetch("".concat(this._url).concat(n),Object(c.a)(Object(c.a)({},this._config),{},{method:"PATCH",body:JSON.stringify(r)}));case 3:if(401!==(null===(i=t.sent)||void 0===i?void 0:i.status)){t.next=6;break}return t.abrupt("return",this._showUnauthorized());case 6:if(500!==(null===i||void 0===i?void 0:i.status)){t.next=8;break}return t.abrupt("return",this._showInternalServerError());case 8:return t.next=10,i.json();case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,t.next=3,fetch("".concat(this._url).concat(n),Object(c.a)(Object(c.a)({},this._config),{},{method:"delete"}));case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(function(){function t(){Object(o.a)(this,t)}return Object(s.a)(t,[{key:"_showUnauthorized",value:function(){d.store.addNotification({title:"Failure",message:"Unauthorized - check your e-mail or password.",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:4e3,onScreen:!0}})}},{key:"_showInternalServerError",value:function(){d.store.addNotification({title:"Failure",message:"Internal server error. Contact with admin.",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:4e3,onScreen:!0}})}},{key:"_showEmailAlreadyExists",value:function(){d.store.addNotification({title:"Failure",message:"Email already exists.",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:4e3,onScreen:!0}})}}]),t}());e.a=new f({apiUrl:"https://investor-wallet.herokuapp.com"})},15:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r="GET_CATEGORY_DATA",a="SET_DATA",c="SET_INIT_FLAG"},24:function(t,e,n){"use strict";var r=n(29),a=n.n(r),c=n(1),i=n.n(c);e.a=function(){return i.a.createElement("img",{className:"loader",src:a.a,alt:"loader"})}},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="SET_SETTINGS"},27:function(t,e,n){"use strict";n(6)},28:function(t,e){},29:function(t,e,n){t.exports=n.p+"static/media/loader.f6f2de36.gif"},37:function(t,e,n){t.exports=n(48)},42:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(16),i=n.n(c);n(42),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(24),s=n(9),u=n(32),l=n(3),d=n(6),f={user:JSON.parse(localStorage.getItem("investorWalletUser")||"{}"),init:!0},p=n(19),h=n(12),b=n(13),v=function(){function t(e){var n=e.name,r=e.plural,a=e.sort,c=e.categoryName;Object(h.a)(this,t),this._name=n,this._plural=r,this._fetchPending=!1,this._data=[],this._sort=a,this._categoryName=c,this._shouldRefresh=!0,this._baseUrl="/".concat(this._plural)}return Object(b.a)(t,[{key:"setRefresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._shouldRefresh=t}},{key:"shouldRefresh",value:function(){return this._shouldRefresh}},{key:"getAllUrl",value:function(t){return"".concat(this._baseUrl,"?filter=").concat(JSON.stringify({base:t}),"&sort=").concat(JSON.stringify({createdAt:"desc"}),"&limit=1")}},{key:"getCategoryName",value:function(){return this._categoryName}},{key:"getName",value:function(){return this._name}},{key:"getPlural",value:function(){return this._plural}}]),t}(),O={currencies:{model:new v({name:"currencyRate",plural:"currencyRates",categoryName:"currencies"}),data:[]},crypto:{model:new v({name:"cryptoRate",plural:"cryptoRates",categoryName:"crypto"}),data:[]},metals:{model:new v({name:"metalRate",plural:"metalRates",categoryName:"metals"}),data:[]}},m=Object(l.a)({categories:["currencies","crypto","metals"],initFlag:!1},O),_=[{label:"Home",name:"home",path:""},{label:"Currencies",name:"currencies",path:"/currencies"},{label:"Crypto",name:"crypto",path:"/crypto"},{label:"Metals",name:"metals",path:"/metals"}],y={items:_,current:function(){var t=window.location.pathname,e="home";return _.forEach((function(n){var r=n.path,a=n.name;t.indexOf(r)>-1&&(e=a)})),e}()},g=n(5),j=n.n(g),E=n(11),S=n(14),w=function(){function t(e){Object(h.a)(this,t),this._options=e||{},this._baseUrl="/user"}return Object(b.a)(t,[{key:"changeBase",value:function(){var t=Object(E.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._options.id,localStorage.setItem("investorWalletUserSettings",JSON.stringify({base:e})),t.next=4,S.a.update({url:"".concat(this._baseUrl,"/").concat(n),body:{"settings.base":e}});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"changeFavourites",value:function(){var t=Object(E.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._options.id,t.next=3,S.a.update({url:"".concat(this._baseUrl,"/").concat(n),body:{favourites:e}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setOptions",value:function(t){this._options=Object(l.a)(Object(l.a)({},this._options),t)}}]),t}(),T=Object(l.a)({},JSON.parse(localStorage.getItem("investorWalletUserSettings")||"{}")),x=Object(l.a)({userSettingsAdapter:new w(Object(l.a)(Object(l.a)({},T),JSON.parse(localStorage.getItem("investorWalletUser")||"{}"))),baseOptions:[{value:"USD",label:"USD"},{value:"PLN",label:"PLN"}]},T),U=Object(s.c)({authUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0,n=e.payload,r=e.type;switch(r){case d.LOGIN_USER:return Object(l.a)(Object(l.a)({},t),{},{user:n.user});case d.LOGOUT_USER:return Object(l.a)(Object(l.a)({},t),{},{user:void 0});case d.SET_USER_FAVOURITES:return Object(l.a)(Object(l.a)({},t),{},{user:Object(l.a)(Object(l.a)({},t.user),{},{favourites:n})});case d.SET_INIT:return Object(l.a)(Object(l.a)({},t),{},{init:n});case d.SET_USER:return Object(l.a)(Object(l.a)({},t),{},{user:n});default:return Object(l.a)({},t)}},collections:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case d.SET_DATA:return Object(l.a)(Object(l.a)({},t),{},Object(p.a)({},r.category,Object(l.a)(Object(l.a)({},t[r.category]),{},{data:r.data})));case d.SET_INIT_FLAG:return Object(l.a)(Object(l.a)({},t),{},{initFlag:!t.initFlag});default:return Object(l.a)({},t)}},menu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d.MENU_CHANGE:return Object(l.a)(Object(l.a)({},t),{},{current:e.payload});default:return Object(l.a)({},t)}},settings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case d.SET_SETTINGS:return Object(l.a)(Object(l.a)({},t),r);default:return Object(l.a)({},t)}},loader:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=e.type;switch(n){case d.LOADER:return!t;default:return t}}}),k=n(8),A=j.a.mark(R),N=j.a.mark(G),I=j.a.mark(L);function R(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.d)(d.GET_USER_DATA,G);case 2:case"end":return t.stop()}}),A)}function G(t){var e,n;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.payload.url,r.prev=1,r.next=4,S.a.get({url:e});case 4:return(n=r.sent).id=n._id,delete n._id,r.next=9,Object(k.c)({type:d.SET_USER,payload:n&&n[0]||null});case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),console.error(r.t0);case 14:case"end":return r.stop()}}),N,null,[[1,11]])}function L(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)([R()]);case 2:case"end":return t.stop()}}),I)}var C=n(15),D=j.a.mark(P),F=j.a.mark(W),J=j.a.mark(z);function P(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.d)(C.a,W);case 2:case"end":return t.stop()}}),D)}function W(t){var e,n,r,a,c;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.url,a=n.category,i.next=3,S.a.get({url:r});case 3:return c=i.sent,i.next=6,Object(k.c)({type:C.b,payload:{category:a,data:null===(e=c[0])||void 0===e?void 0:e.rates}});case 6:case"end":return i.stop()}}),F)}function z(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)([Object(k.b)(P)]);case 2:case"end":return t.stop()}}),J)}var H=j.a.mark(M);function M(t){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)([L(),z()]);case 2:case"end":return t.stop()}}),H)}var B=Object(u.a)(),V=[B];var Y=n(23),$=a.a.lazy((function(){return Promise.all([n.e(4),n.e(8)]).then(n.bind(null,81))}));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Y.a,{store:function(t){var e=Object(s.e)(U,t,Object(s.d)(s.a.apply(void 0,V)));return B.run(M),e}()},a.a.createElement(r.Suspense,{fallback:a.a.createElement(o.a,null)},a.a.createElement($,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},6:function(t,e,n){"use strict";n.d(e,"LOGIN_USER",(function(){return c})),n.d(e,"LOGOUT_USER",(function(){return i})),n.d(e,"SET_INIT",(function(){return o})),n.d(e,"SET_USER_FAVOURITES",(function(){return s})),n.d(e,"GET_USER_DATA",(function(){return u})),n.d(e,"SET_USER",(function(){return l})),n.d(e,"MENU_CHANGE",(function(){return d})),n.d(e,"LOADER",(function(){return f}));n(27);var r=n(15);n.d(e,"GET_CATEGORY_DATA",(function(){return r.a})),n.d(e,"SET_DATA",(function(){return r.b})),n.d(e,"SET_INIT_FLAG",(function(){return r.c}));var a=n(25);n.d(e,"SET_SETTINGS",(function(){return a.a}));n(28);var c="LOGIN_USER",i="LOGOUT_USER",o="SET_INIT",s="SET_USER_FAVOURITES",u="GET_USER_DATA",l="SET_USER",d="MENU_CHANGE",f="LOADER"}},[[37,2,3]]]);
//# sourceMappingURL=main.b062c729.chunk.js.map