{"version":3,"sources":["App.js"],"names":["ViewWelcome","React","lazy","ViewApp","ViewError","ViewLogin","ViewLogout","ViewRegister","AuthRoute","Component","component","authUser","rest","render","props","to","pathname","state","from","location","connect","user","init","dispatch","useDispatch","useEffect","id","type","GET_USER_DATA","payload","url","JSON","stringify","_id","SET_INIT","className","fallback","basename","path","email","exact"],"mappings":"8LAaMA,EAAcC,IAAMC,MAAK,kBAAM,iCAC/BC,EAAUF,IAAMC,MAAK,kBAAM,sDAC3BE,EAAYH,IAAMC,MAAK,kBAAM,iCAC7BG,EAAYJ,IAAMC,MAAK,kBAAM,uDAC7BI,EAAaL,IAAMC,MAAK,kBAAM,iCAC9BK,EAAeN,IAAMC,MAAK,kBAAM,uDAEhCM,EAAY,SAAC,GAAiD,IAApCC,EAAmC,EAA9CC,UAAsBC,EAAwB,EAAxBA,SAAaC,EAAW,wCAC/D,OACI,kBAAC,IAAD,iBACQA,EADR,CAEIC,OAAQ,SAACC,GAAD,OACJH,EACI,kBAACF,EAAcK,GAEf,kBAAC,IAAD,CACIC,GAAI,CACAC,SAAS,SACTC,MAAO,CAAEC,KAAMJ,EAAMK,kBAoFlCC,uBAPS,SAAC,GAAkB,IAAhBT,EAAe,EAAfA,SAGvB,MAAO,CAAEU,KAFcV,EAAfU,KAEOC,KAFQX,EAATW,QAIQ,GAEXF,EA3EH,SAACN,GAAW,IACZO,EAAeP,EAAfO,KAAMC,EAASR,EAATQ,KAERC,EAAWC,cAqBjB,OAnBAC,qBAAU,WACFH,IACID,EAAKK,IACLH,EAAS,CACLI,KAAMC,gBACNC,QAAS,CACLC,IAAI,iBAAD,OAAmBC,KAAKC,UAAU,CACjCC,IAAKZ,EAAKK,SAK1BH,EAAS,CACLI,KAAMO,WACNL,SAAS,OAGlB,CAACP,EAAMD,IAGN,yBAAKc,UAAU,OACX,kBAAC,IAAD,MACA,kBAAC,WAAD,CAAUC,SAAU,kBAAC,IAAD,OAChB,kBAAC,IAAD,CAAQC,SAAS,0BACb,kBAAC,IAAD,KACI,kBAAC7B,EAAD,CACI8B,KAAI,OACJ3B,SAAQ,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAMkB,MAChB7B,UAAWP,IAEf,kBAAC,IAAD,CACIqC,OAAK,EACLF,KAAI,SACJzB,OAAQ,SAACC,GAAD,OAAW,kBAACT,EAAcS,MAEtC,kBAAC,IAAD,CACIwB,KAAI,UACJE,OAAK,EACL3B,OAAQ,SAACC,GAAD,OAAW,kBAACR,EAAeQ,MAEvC,kBAAC,IAAD,CACIwB,KAAI,YACJE,OAAK,EACL3B,OAAQ,SAACC,GAAD,OAAW,kBAACP,EAAiBO,MAEzC,kBAAC,IAAD,CACIwB,KAAI,SACJE,OAAK,EACL3B,OAAQ,SAACC,GAAD,OAAW,kBAACV,EAAcU,MAEtC,kBAAC,IAAD,CACIwB,KAAI,IACJE,OAAK,EACL3B,OAAQ,SAACC,GAAD,OAAW,kBAACd,EAAgBc,MAExC,kBAAC,IAAD,CAAUC,GAAE","file":"static/js/7.747a8dab.chunk.js","sourcesContent":["import React, { Suspense, useEffect } from \"react\";\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n    Redirect,\n} from \"react-router-dom\";\nimport \"react-notifications-component/dist/theme.css\";\nimport ReactNotification from \"react-notifications-component\";\nimport Loader from \"./components/loader\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { SET_INIT, GET_USER_DATA } from \"./redux/actions\";\n\nconst ViewWelcome = React.lazy(() => import(\"./views\"));\nconst ViewApp = React.lazy(() => import(\"./views/app\"));\nconst ViewError = React.lazy(() => import(\"./views/error\"));\nconst ViewLogin = React.lazy(() => import(\"./views/login\"));\nconst ViewLogout = React.lazy(() => import(\"./views/logout\"));\nconst ViewRegister = React.lazy(() => import(\"./views/register\"));\n\nconst AuthRoute = ({ component: Component, authUser, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                authUser ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: `/login`,\n                            state: { from: props.location },\n                        }}\n                    />\n                )\n            }\n        />\n    );\n};\n\nconst App = (props) => {\n    const { user, init } = props;\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (init) {\n            if (user.id) {\n                dispatch({\n                    type: GET_USER_DATA,\n                    payload: {\n                        url: `/users?filter=${JSON.stringify({\n                            _id: user.id,\n                        })}`,\n                    },\n                });\n            }\n            dispatch({\n                type: SET_INIT,\n                payload: false,\n            });\n        }\n    }, [init, user]);\n\n    return (\n        <div className=\"App\">\n            <ReactNotification />\n            <Suspense fallback={<Loader />}>\n                <Router basename=\"/investorWallet-client\">\n                    <Switch>\n                        <AuthRoute\n                            path={`/app`}\n                            authUser={user?.email}\n                            component={ViewApp}\n                        />\n                        <Route\n                            exact\n                            path={`/login`}\n                            render={(props) => <ViewLogin {...props} />}\n                        />\n                        <Route\n                            path={`/logout`}\n                            exact\n                            render={(props) => <ViewLogout {...props} />}\n                        />\n                        <Route\n                            path={`/register`}\n                            exact\n                            render={(props) => <ViewRegister {...props} />}\n                        />\n                        <Route\n                            path={`/error`}\n                            exact\n                            render={(props) => <ViewError {...props} />}\n                        />\n                        <Route\n                            path={`/`}\n                            exact\n                            render={(props) => <ViewWelcome {...props} />}\n                        />\n                        <Redirect to={`/error`} />\n                    </Switch>\n                </Router>\n            </Suspense>\n        </div>\n    );\n};\n\nconst mapStateToProps = ({ authUser }) => {\n    const { user, init } = authUser;\n\n    return { user, init };\n};\nconst mapActionsToProps = {};\n\nexport default connect(mapStateToProps, mapActionsToProps)(App);\n"],"sourceRoot":""}